<!DOCTYPE html>
<html>
  <head>
    <title>Turms Anonymous Message System</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="intro.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300|Roboto:300i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:100,100italic,300,300italic,italic,700,700italic,900,900italic,400" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="bundle/index_TIMESTAMP_1542521101_.js"></script>
    <script type="text/javascript" src="bundle/common_TIMESTAMP_1542521101_.js"></script>
    <script type="text/javascript" src="bundle/ether_TIMESTAMP_1542521101_.js"></script>
    <script type="text/javascript" src="bundle/SVGAnimation.js" gwd-groups-version="1.0"></script>
  </head>

  <body>


    <!--
	intro page 0
      -->
    <div id="intro0Div" class="popup-bg-intro0 hidden">
      <div class="note-bg-intro0"></div>
      <img src="images/Bigstock_258413077_mod.jpg" class="image-intro0">
      <div class="next-btn-bg-intro0"></div>
      <div class="back-btn-bg-intro0"></div><span class="back-text-intro1"><a id="intro0Prev" class="btn-back-hyperlink" href="#"></a><a></a></span>
      <img src="images/dotted-arrow-4-809285.png" class="next-arrow-intro0">
      <span class="heading-title-intro0"><span class="">Welcome to Turms Anonymous Message System</span></span>
      <p class="note-text-intro0">Note: this introduction is displayed automatically whenever you load Turms AMS, until you register your Ethereum address. After that You can show this introduction at any time by clicking on the Important Information button.</p>
      <div class="para2-intro0">
	<ul class="">
          <li>Please read the next few screens for a very brief introduction to Turms AMS.<br>
          </li>
	</ul>
      </div>
      <div class="para1-intro0">
	<ul class="">
          <li>Turms AMS is a DApp for peer-to-peer messaging between Ethereum addresses.<br>
          </li>
	</ul>
      </div>
      <p class="next-btn-text-intro0"><a id="intro0Next" class="btn-next-hyperlink" href="#">Turms AMS is NOT email</a>
      </p>
      <svg data-gwd-shape="oval" preserveAspectRatio="none" viewBox="0 0 30 29" class="close-btn-bg-intro0">
	<ellipse cx="50%" cy="50%" rx="14.5" ry="14"></ellipse>
      </svg>
      <span class="close-btn"><a id="intro0Close" class="btn-close-hyperlink" href="#">X</a></span>
    </div>

    <!--
	intro page 1
      -->
    <div id="intro1Div" class="popup-bg-intro0 hidden">
      <div class="note-bg-intro1"></div>
      <img src="images/Bigstock_255167290__1_.jpg" class="image-intro1">
      <div class="next-btn-bg-intro1"></div>
      <div class="back-btn-bg-intro1"></div><span class="back-text-intro1"><a id="intro1Prev" class="btn-back-hyperlink" href="#">Back</a><a></a></span>
      <img src="images/dotted-arrow-4-809285.png" class="next-arrow-intro1">
      <img src="images/dotted-arrow-4-809285.png" class="back-arrow-intro1">
      <span class="heading-title-intro0"><span class="">Anonymous Decentralized Messaging Using Ethereum</span></span>
      <p class="note-text-intro1">In the Etruscan religion, Turms was similar to Roman Mercury or Greek Hermes. He was a god of trade. He also passed messages between people and the other gods.</p>
      <div class="para1-intro1">
	<ul class="">
          <li>The Turms message system is completely decentralized</li>
          <li>All messages are sent peer-to-peer</li>
          <li>Turms messages are always encrypted</li>
	  <li>Messages are sent between Ethereum addresses</li>
	  <li>Messages are stored on the Ethereum blockchain</li>
	  <li>You get <i>paid</i> for each message you receive</p>
	</ul>
      </div>
      <p class="next-btn-text-intro1"><a id="intro1Next" class="btn-next-hyperlink" href="#">How it Works</a>
      </p>
      <svg data-gwd-shape="oval" preserveAspectRatio="none" viewBox="0 0 30 29" class="close-btn-bg-intro0">
	<ellipse cx="50%" cy="50%" rx="14.5" ry="14"></ellipse>
      </svg>
      <span class="close-btn"><a id="intro1Close" class="btn-close-hyperlink" href="#">X</a></span>
    </div>


    <!--
	intro page 2
      -->
  <template id="gwd-group-definitions">
    <div data-gwd-group-def="text-animation" data-gwd-group-class="heading-para2-group" style="display: none;">
      <div class="heading-para1-intro2 heading-para2 heading-para2-group">High Grade Encryption
        <ul class="heading-para2-group-ani heading-para2-group">
        </ul>
      </div>
    </div>
    <div data-gwd-group-def="para2_animation" data-gwd-group-class="para2-group" style="display: none;">
      <p class="para2 para2-group">Turms uses high-grade encryption that you can check:<br>
        <br>
        All Turms messages are encrypted using a secret key that is unique to each pair of Ethereum addresses (the sender address and the receiver address) -- and the key changes for every message sent. The secret key is never stored on any server, or even on your own computer -- You recompute a code to unlock your half of each secret key by signing a Ethereum message (via Metamask). Since the code is never stored, you do this each time you load the Turms AMS front-end. Every time you view a message you combine your code with the other party, in a way that changes for every message. Since all the code is open source, you can check out the encryption algorithm for yourself!</p>
    </div>
  </template>
  <div id="intro2Div" class="popup-bg-intro2 hidden">
    <div class="next-btn-bg-intro2"></div>
    <div class="back-btn-bg-intro2"></div><span class="back-text-intro2"><a id="intro2Prev" class="btn-back-hyperlink" href="#">Back</a></span>
    <img src="images/dotted-arrow-4-809285.png" class="next-arrow-intro2">
    <img src="images/dotted-arrow-4-809285.png" class="back-arrow-intro2">
    <span class="heading-title-intro2">Turms AMS</span>
    <div class="para1-intro2">All Turms messages are stored via an Ethereum smart contract. The smart contract and the front-end, which provides the user-interface, are open-source. The user-interface is hosted via a distributed file-system, IPFS -- but it runs completely on your own computer.
      <ul class="">
      </ul>
    </div>
    <div class="heading-para1-intro2 header-para1-intro2-modified">
      Completely Decentralized<br>
      <ul class="">
      </ul>
    </div>
    <p class="next-btn-text-intro2"><a id="intro2Next" class="btn-next-hyperlink" href="#">Receiving Messages</a>
    </p>
    <svg data-gwd-shape="oval" preserveAspectRatio="none" viewBox="0 0 30 29" class="close-btn-bg-intro2">
      <ellipse cx="50%" cy="50%" rx="14.5" ry="14"></ellipse>
    </svg><span class="close-btn"><a id="intro2Close" class="btn-close-hyperlink" href="#">X</a></span>
    <img src="images/Bigstock_248383423.png" class="image-para1-intro2">
    <img src="images/Bigstock_239979394.png" class="image-para2-intro2">
    <div class="heading-para2-text-ani heading-para2-animation-position" data-gwd-group="text-animation"></div>
    <div class="para2-text-ani para2-animation-position" data-gwd-group="para2_animation"></div>
  </div>

    <!--
	intro page 3
      -->
    <div id="intro3Div" class="popup-bg-intro2 hidden">
      <div class="next-btn-bg-intro3"></div>
      <div class="back-btn-bg-intro3"></div><span class="back-text-intro3"><a id="intro3Prev" class="btn-back-hyperlink" href="#">Back</a><a></a></span>
      <img src="images/dotted-arrow-4-809285.png" class="next-arrow-intro3">
      <img src="images/dotted-arrow-4-809285.png" class="back-arrow-intro3">
      <span class="heading-title-intro3"><span class="">Getting Paid to Receive Messages</span></span>
      <div class="heading-para1-intro3">
	<p>Before you use Turms AMS you need to register your Ethereum address with the Turms AMS smart contract. You will need to set 2 parameters:</p>
      </div>
      <div class="para1-intro3">
	<br/><p>Your spam fee: this is the amount that you will charge for every "spam" message that is sent to you. A spam message is a message from any <i>unknown</i> address; that is, an address to which you have never sent a message. <b>You get paid for every spam message you receive!</b> If you set this value very high, then advertisers will not send you any spam.</p>
	<br/><p>Your Message fee: this is the amount that you will charge for every message that is not a spam message. You should usually set this to zero, or to a very small amount (a few GWei) -- otherwise people will not send you any messages.</p>
	<br/><p>Pro tip: if you don't want someone to pay your spam fee for the first message that they send to you, you can send them an empty message. You will not have to pay any fee for the empty message; and they will not have to pay your spam fee when they send a message to you.</p>
	<br/><p>Note: 15% of whatever spam and message fees you charge goes to the Turms AMS token holders. 15% of the spam and message fees is burned; that is, it is destroyed to increase the value of Ether.</p>
      </div>
      <p class="next-btn-text-intro3"><a id="intro3Next" class="btn-next-hyperlink" href="#">Conversation Threading</a>
      </p>
      <svg data-gwd-shape="oval" preserveAspectRatio="none" viewBox="0 0 30 29" class="close-btn-bg-intro0">
	<ellipse cx="50%" cy="50%" rx="14.5" ry="14"></ellipse>
      </svg>
      <span class="close-btn"><a id="intro3Close" class="btn-close-hyperlink" href="#">X</a></span>
    </div>

    <!--
	intro page 4
      -->
    <div id="intro4Div" class="popup-bg-intro2 hidden">
      <div class="next-btn-bg-intro4"></div>
      <div class="back-btn-bg-intro3"></div><span class="back-text-intro3"><a id="intro4Prev" class="btn-back-hyperlink" href="#">Back</a><a></a></span>
      <img src="images/dotted-arrow-4-809285.png" class="next-arrow-intro3">
      <img src="images/dotted-arrow-4-809285.png" class="back-arrow-intro3">
      <span class="heading-title-intro3"><span class="">Conversation Threading</span></span>
      <div class="heading-para1-intro4">
	<p>Message ID's and Ref ID's</p>
      </div>
      <div class="para1-intro4">
	<p>Conversation threading is a feature used by many email clients in which the software aids the user by visually grouping messages with their replies. For an ongoing conversation this creates a chain of messages called a "message thread."</p><br/>
	<p>In Turms AMS we do not display message threads. :(</p>
	<p>This is because the is no central "server" to keep track of the relationships between messages.<br/>
	  Instead:</p>
	<ul>
	  <li>Each Turms message needs to be retreived individually from the blockchain</li>
	  <li>Each Turms message is completely encrypted, including the "subject line"</li>
	  <li>Each Turms message's unique decrption key needs to be computed separately</li>
	</ul>
	<p>To provide a capability similar to Conversation threading each Turms message is identified by a unique Msg. ID, which is encoded in base64 (eg. 'AAAAAAAAAAAAAAAAAAAAAAAA'). When you reply to a
message, the the reply stores the Msg. ID of the original message as a 'Ref. ID' When the reply is displayed the Ref. ID is also displayed -- and if you click on the Ref ID, then that will bring up the original message. In this way you can trace back through the chain of messages that make up a conversation's message thread.</p>
      </div>
      <p class="next-btn-text-intro4"><a id="intro4Next" class="btn-next-hyperlink" href="#">Close</a>
      </p>
      <svg data-gwd-shape="oval" preserveAspectRatio="none" viewBox="0 0 30 29" class="close-btn-bg-intro0">
	<ellipse cx="50%" cy="50%" rx="14.5" ry="14"></ellipse>
      </svg>
      <span class="close-btn"><a id="intro4Close" class="btn-close-hyperlink" href="#">X</a></span>
    </div>


    <!--
	modal: you've received new messages
      -->
    <div id="newMsgModal">
      <p>
	You've received
	<button id="newMsgCountNotButton" type="button" disabled="true">&nbsp;</button>
	new messages
      </p>
    </div>

    <div id="metaMaskModal">
      <p>
	Waiting for MetaMask signature...
      </p>
    </div>

    <div id="topSection">
      <div style="float:left;">
	<img src="images/logo.png" alt="Logo goes here " width="40px" height="40px"/>
      </div>
      <span id="mainTitleSpan">
	<h2>Turms Anonymous Message System - Completely Decentralized Peer-to-Peer Messaging Using Ethereum</h2>
      </span>
      <div id="tabularArea">
	<div id="networkAreaDiv">
	  <textarea id="networkArea" rows="1" cols="55" readonly="readonly">&nbsp;</textarea>
	</div>
	<div id="accountDiv">
	  <textarea id="accountArea" rows="1" cols="55" readonly="readonly">&nbsp;</textarea>
	</div>
	<div id="balanceAreaDiv">
	  <textarea id="balanceArea" rows="1" cols="55" readonly="readonly">&nbsp;</textarea>
	</div>
	<div id="totalReceivedAreaDiv">
	  <textarea id="totalReceivedArea" rows="1" cols="55" readonly="readonly">&nbsp;</textarea>
	</div>
	<div id="feeBalanceAreaDiv">
	  <textarea id="feeBalanceArea" rows="1" cols="55" readonly="readonly">&nbsp;</textarea>
	</div>
      </div>
    </div>

    <div id="topMenuBarDiv" style="clear:both">
      <button id="viewSentButton" class="menuBarButton" type="button">View Sent</button>
      <button id="viewRecvButton" class="menuBarButton" type="button">View Received</button>
      <button id="markReadButton" class="menuBarButton hidden" type="button">Mark as Read</button>
      <span id="navButtonsSpan" class="hidden">
	<button id="prevUnreadButton" type="button" class="navButton hidden">prev unread</button>
	<button id="nextUnreadButton" type="button" class="navButton hidden">next unread</button>
	<button id="firstMsgButton" type="button" class="navButton">first</button>
	<button id="prevPageButton" type="button" class="navButton">prev page</button>
	<button id="prevMsgButton" type="button" class="navButton">prev</button>
	<button id="msgNoNotButton" type="button" class="navButton" disabled="true">&nbsp;</button>
	<button id="nextMsgButton" type="button" class="navButton">next</button>
	<button id="nextPageButton" type="button" class="navButton">next page</button>
	<button id="lastMsgButton"  type="button" class="navButton">last</button>
	</span>
    </div>

    <!-- list display area -->
    <div id="listAreaDiv">
      <div id="msgListHeaderDiv" class="msgListItemDiv">
	<textarea id="msgListHeaderMsgNo" class="msgListMsgNoArea" rows="1" readonly="readonly" disabled="disabled">Msg No.</textarea>
	<textarea id="msgListHeaderAddr" class="msgListAddrArea" rows="1" readonly="readonly" disabled="disabled">From</textarea>
	<textarea id="msgListHeaderDate" class="msgListDateArea" rows="1" readonly="readonly" disabled="disabled">Date</textarea>
	<textarea id="msgListHeaderMsgId" class="msgListMsgIdArea" rows="1" readonly="readonly" disabled="disabled">Msg ID</textarea>
	<textarea id="msgListHeaderSubject" class="msgListSubjectArea" rows="1" readonly="readonly" disabled="disabled">Subject</textarea>
      </div>
    </div>

    <div id="botMenuBarDiv" style="clear:both">
      <button id="importantInfoButton" class="menuBarButton" type="button">Important Information</button>
      <button id="registerButton" class="menuBarButton" type="button">Register Account</button>
      <button id="composeButton" class="menuBarButton" type="button">Compose</button>
      <button id="withdrawButton" class="menuBarButton" type="button">Withdraw Fees</button>
    </div>

    <!-- general display area -->
    <div id="msgAreaDiv" style="clear:both">
      <form action="javascript:void(0);">
	<div id="msgInfoAreaDiv">
	  <span>
	    <textarea id="msgPromptArea" rows="1" readonly="readonly" disabled="disabled">&nbsp;</textarea>
	    <textarea id="msgAddrArea" rows="1">&nbsp;</textarea>
	    <textarea id="msgIdArea" rows="1" class="hidden">&nbsp;</textarea>
	    <button id="msgRefButton" type="button" class="hidden">Ref: N/A</button>
	    <textarea id="msgDateArea" rows="1" class="hidden">&nbsp;</textarea>
	    <button id="validateAddrButton" type="button" class="hidden">Validate</button>
	    <button id="replyButton" type="button" class="hidden">Reply</button>
	    <textarea id="msgFeeArea" rows="1" readonly="readonly" disabled="disabled" class="hidden">&nbsp;</textarea>
	    <span>
	</div>
	<div id="msgTextAreaDiv">
	  <textarea id="msgTextArea" rows="14" class="hidden">&nbsp;</textarea>
	  <div id="registerDiv" class="hidden">
	    <table class="registerTable">
	      <tbody>
		<tr>
		  <td>Message fee:</td><td><input id="messageFeeInput" type="text"></td>
		  <td><select id="messageFeeUnits">
		      <option value="1">Wei</option>
		      <option value="1000">Kwei</option>
		      <option value="1000000">Mwei</option>
		      <option value="1000000000">Gwei</option>
		      <option value="1000000000000">Szabo</option>
		      <option value="1000000000000000">Finney</option>
		    </select>
		  </td>
		</tr>
		<tr>
		  <td>Spam fee:</td><td><input id="spamFeeInput" type="text"></td>
		  <td><select id="spamFeeUnits">
		      <option value="1">Wei</option>
		      <option value="1000">Kwei</option>
		      <option value="1000000">Mwei</option>
		      <option value="1000000000">Gwei</option>
		      <option value="1000000000000">Szabo</option>
		      <option value="1000000000000000">Finney</option>
		    </select>
		  </td>
		</tr>
		<tr>
		  <td></td><td><input id="registerSubmitButton" class="menubarButton" type="submit" value="Submit"></td>
		</tr>
	      </tbody>
	    </table>
	  </div>
	</div>
      </form>
    </div>
    <p>&nbsp;</p>
    <div id="statusDiv" class="finalresultstable" style="display: none;"></div>
  </body>
</html>
